Loading data model 'Flux_model.stp'
Recording commands in 'C:/Users/jperalta/Documents/github_pato/flux/2_int_rotor/2_int_rotor_slotted/8_icems_journal_2018_3d/Flux3D_log_1.py'
 
                                                            FLUX3D_18.1.0 : 3D Finite Element Electromagnetism
                                                                  4096 MiB N. + 127 MiB C. + 2048 MiB J.
                                                                 HWU licensing used: 6200@stilic5.epfl.ch
                                           Build 1806291121 Flux_Release_2018.1 CL15346 Win64 4/8 cores LAIB108233:5472 jperalta
 
14:30:10       0 sec. FLUX3D_18.1.0 kernel initialized

Flux3D (application 2018.1) running

Execution of command file 'C:/Users/jperalta/Documents/github_pato/flux/2_int_rotor/2_int_rotor_slotted/8_icems_journal_2018_3d/00_main.py' in batch mode ...
Loading new project
Creating ANONYM
... end loading new project
Execution of command file '1_param_revG.py' in batch mode ...
FICHIER PARAM.PY

   ParameterGeom[R_ROT_OUT] created
ParameterGeom[1]
   ParameterGeom[D_AGAP] created
   ParameterGeom[L_SLOT] created
ParameterGeom[3]
   ParameterGeom[W_SLOT] created
ParameterGeom[4]
   ParameterGeom[D_ST] created
ParameterGeom[5]
   ParameterGeom[R_ST_IN] created
   ParameterGeom[R_ST_OUT] created
   ParameterGeom[D_MOT] created
   ParameterGeom[Y] created
   ParameterGeom[Y2] created
   ParameterGeom[BETA] created
   ParameterGeom[ALPHA_H] created
   ParameterGeom[ALPHA_CASE] created
   ParameterGeom[H_ST] created
ParameterGeom[14]
   ParameterGeom[H_ROT] created
   ParameterGeom[DALPHA_MULT] created
   ParameterGeom[DBETA_MULT] created
   ParameterGeom[DX_MULT] created
   ParameterGeom[DY_MULT] created
   ParameterGeom[DZ_MULT] created
   ParameterGeom[DTHETA] created
   ParameterGeom[DALPHA] created
   ParameterGeom[DBETA] created
   ParameterGeom[DX] created
   ParameterGeom[DY] created
   ParameterGeom[DZ] created
   ParameterGeom[DR_0] created
   ParameterGeom[DTHETA_0] created
   ParameterGeom[TH_COIL] created
End execution of command file '1_param_revG.py' in batch mode ...
Execution of command file '2_app_def.py' in batch mode ...
 
Multiplying coefficient for the flux in the coils and for coupling with electrical circuits :
Automatically calculated value = 1
 
   Application[2] created
End execution of command file '2_app_def.py' in batch mode ...
Execution of command file '3_mesh_info.py' in batch mode ...
   AidedMesh[1] modified
End execution of command file '3_mesh_info.py' in batch mode ...
Execution of command file '4_geom_revE.py' in batch mode ...
   CoordSys[COORD_SYS_ST] created
   CoordSys[COORD_SYS_ROT] created
   Point[1] created
   Point[2] created
   Point[3] created
   Point[4] created
   Point[5] created
   Point[6] created
   Line[1] created
   Line[2] created
   Line[3] created
   Line[4] created
   Line[5] created
   Line[6] created
   Line[7] created
No line-line intersections and no lines superimposed
Number of surfaces found : 1
Checking the unicity of auxiliary points
Looking for identical points, minimum distance between 2 points is 0.171E-06
Checking the unicity of lines
Creation of 2 FACES :
1  2
   buildFaces executed
   Face[1, 2] modified
   Transf[ROT_ST_60] created
Creation of 10 face(s) done :
3  4  5  6  7  8  9  10  11  12
   propagate executed
   Point[37] created
   Point[38] created
   Point[39] created
   Line[43] created
   Line[44] created
   Line[45] created
   Line[46] created
   Line[47] created
   Line[48] created
   Line[49] created
   Line[50] created
No line-line intersections and no lines superimposed
Number of surfaces found : 1
Checking the unicity of auxiliary points
Looking for identical points, minimum distance between 2 points is 0.760E-06
Checking the unicity of lines
Creation of 4 FACES :
13  14  15  16
   buildFaces executed
   Face[13, 14, 15, 16] modified
Creation of 20 face(s) done :
17  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36
   propagate executed
   Transf[ST_H_ST] created
Creation of 36 volume(s) done :
1  2  3  4  5  6  7  8  9  10  11  12  13  14  15  16  17  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36
   extrude executed
   Point[109] created
   Point[110] created
   Point[111] created
   Point[112] created
   Line[235] created
   Line[236] created
   Line[237] created
   Line[238] created
No line-line intersections and no lines superimposed
Number of surfaces found : 14
Checking the unicity of auxiliary points
Looking for identical points, minimum distance between 2 points is 0.808E-06
Checking the unicity of lines
Creation of 3 FACES :
163  164  165
   buildFaces executed
   Face[164] deleted
   Face[163] deleted
   Face[165] modified
   Transf[ROT_ROTOR] created
Creation of 2 volume(s) done :
37  38
   extrude executed
   Transf[AX_SIM_ROT] created
Creation of 2 volume(s) done :
39  40
   propagateVolume executed
   Transf[H_COILS_PLUS] created
   Transf[H_COILS_MINUS] created
Creation of 3 volume(s) done :
41  42  43
   extrude executed
Creation of 3 volume(s) done :
44  45  46
   extrude executed
Creation of 30 volume(s) done :
47  48  49  50  51  52  53  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72  73  74  75  76
   propagateVolume executed
   InfiniteBox[InfiniteBoxCylinderZ] created
No line-line intersections and no lines superimposed
Number of surfaces found : 29
Checking the unicity of auxiliary points
Looking for identical points, minimum distance between 2 points is 0.822E-06
Checking the unicity of lines
Creation of 28 FACES :
321  322  323  324  325  326  327  328  329  330  331  332  333  334  335  336  337  338  339  340  341  342  343  344  345  346  347  348
   buildFaces executed
   setInvisible executed
   Face[323] deleted
   Face[322] deleted
   Face[321] deleted
   Face[324] deleted
No line-face intersections
Creation of 7 VOLUMES :
77  78  79  80  81  82  83
   buildVolumes executed
Some intersections may not have been detected

   CoordSys[COORD_SYS_ST] modified
End execution of command file '4_geom_revE.py' in batch mode ...
Execution of command file '5_mat_def.py' in batch mode ...
   Material[COGENT_M270_50A_50HZ] created
Material[1]
   Material[IMPHY_MUMETAL] created
Material[2]
   Material[BMT_50H] created
Material[3]
   Material[BMT_42UH] created
Material[4]
   Material[METGLAS] created
The final derivative of points defining the spline curve of material NO12 must be equal to Mu0. The final relative permeability is equal to: 1.10924599072956
   Material[NO12] created
   Material[AIR] created
End execution of command file '5_mat_def.py' in batch mode ...
Execution of command file '6_coils_concentric_revF.py' in batch mode ...
   ParameterGeom[COIL_KCU] created
   ParameterGeom[RHO_CU] created
   VariationParameter[L_SLOT_PH] created
   VariationParameter[W_SLOT_PH] created
   VariationParameter[D_ST_PH] created
   VariationParameter[DALPHA_OUT] created
   VariationParameter[DBETA_OUT] created
   VariationParameter[DX_OUT] created
   VariationParameter[DY_OUT] created
   VariationParameter[DZ_OUT] created
   VariationParameter[R_ST_IN_PH] created
   VariationParameter[R_ST_OUT_PH] created
   VariationParameter[ST_A_SLOT] created
   VariationParameter[ST_BI_SLOT] created
   VariationParameter[ST_TOOTH_A] created
   VariationParameter[A_SLOT] created
   VariationParameter[A_COIL] created
   VariationParameter[A_CU] created
   VariationParameter[TH_COIL] created
   VariationParameter[ALPHA_CASE_PH] created
   VariationParameter[H_ST_PH] created
   VariationParameter[L_BAR_PH] created
   VariationParameter[I_T_PEAK] created
   VariationParameter[THETA_T] created
   VariationParameter[JT_RMS] created
   VariationParameter[IT_HAT] created
   VariationParameter[I_F_PEAK] created
   VariationParameter[THETA_F0] created
   VariationParameter[THETA_F_DIR] created
   VariationParameter[THETA_F] created
   VariationParameter[JF_RMS] created
   VariationParameter[IF_HAT] created
   VariationParameter[R_COIL] created
   VariationParameter[P_CU_TOT] created
   ParameterGeom[TH_COIL_OFFSET] created
   ParameterGeom[L_COIL] created
ParameterGeom[33]
   CoordSys[COORD_COIL_1] created
   VariationParameter[I_T_1] created
   VariationParameter[I_F_1] created
   CoilConductor[I_1] created
 
Coil(1) :
   Total number of coils obtained by duplication : 1
   Number of portions of conductors in parallel = 1
 
   Coil[COIL_1] created
   CoordSys[COORD_COIL_2] created
   VariationParameter[I_T_2] created
   VariationParameter[I_F_2] created
   CoilConductor[I_2] created
Coil(2) :
   Total number of coils obtained by duplication : 1
   Number of portions of conductors in parallel = 1
 
   Coil[COIL_2] created
   CoordSys[COORD_COIL_3] created
   VariationParameter[I_T_3] created
   VariationParameter[I_F_3] created
   CoilConductor[I_3] created
Coil(3) :
   Total number of coils obtained by duplication : 1
   Number of portions of conductors in parallel = 1
 
   Coil[COIL_3] created
   CoordSys[COORD_COIL_4] created
   VariationParameter[I_T_4] created
   VariationParameter[I_F_4] created
   CoilConductor[I_4] created
Coil(4) :
   Total number of coils obtained by duplication : 1
   Number of portions of conductors in parallel = 1
 
   Coil[COIL_4] created
   CoordSys[COORD_COIL_5] created
   VariationParameter[I_T_5] created
   VariationParameter[I_F_5] created
   CoilConductor[I_5] created
Coil(5) :
   Total number of coils obtained by duplication : 1
   Number of portions of conductors in parallel = 1
 
   Coil[COIL_5] created
   CoordSys[COORD_COIL_6] created

   VariationParameter[I_T_6] created
   VariationParameter[I_F_6] created
   CoilConductor[I_6] created
Coil(6) :
   Total number of coils obtained by duplication : 1
   Number of portions of conductors in parallel = 1
 
   Coil[COIL_6] created
   VariationParameter[V_FE_ST_RING] created
   VariationParameter[V_FE_ST_SLOTS] created
   VariationParameter[H_ROT_PH] created
   VariationParameter[V_PM] created
   VariationParameter[V_CU] created
   VariationParameter[DENS_NO12] created
   VariationParameter[DENS_CU] created
   VariationParameter[DENS_NDFEB] created
   VariationParameter[MASS_ST] created
   VariationParameter[MASS_CU] created
   VariationParameter[MASS_PM] created
End execution of command file '6_coils_concentric_revF.py' in batch mode ...
Execution of command file '7_assign_revB.py' in batch mode ...
   RegionVolume[IRON_ST] created
   RegionVolume[AIR_DOMAIN] created
   RegionVolume[PM] created
   RegionVolume[COIL_1] created
   RegionVolume[COIL_2] created
   RegionVolume[COIL_3] created
   RegionVolume[COIL_4] created
   RegionVolume[COIL_5] created
   RegionVolume[COIL_6] created
   setInvisible executed
   assignRegion executed
   assignRegion executed
   assignRegion executed
   assignRegion executed
   assignRegion executed
   assignRegion executed
   assignRegion executed
   assignRegion executed
   assignRegion executed
   assignRegionToVolumes executed
   assignRegionToVolumes executed
   orientRegVolMaterial executed
   MeshLine[R_ST] created
   MeshLine[R_ROT] created
   MeshLine[H_ST] created
   MeshLine[H_ROT] created
   MeshLine[THETA_ROT] created
   MeshLine[THETA_ST_ROUND_BI] created
   MeshLine[THETA_ST_SLOT] created
   assignMeshLine executed
   assignMeshLine executed
   assignMeshLine executed
   assignMeshLine executed
   assignMeshLine executed
   assignMeshLine executed
   assignMeshLine executed
End execution of command file '7_assign_revB.py' in batch mode ...
Execution of command file '8_sensors.py' in batch mode ...
   Sensor[F_ROT] created
   Sensor[TX_ROT] created
   Sensor[TY_ROT] created
   Sensor[TZ_ROT] created
   Sensor[F_ST] created
   Sensor[TX_ST] created
   Sensor[TY_ST] created
   Sensor[TZ_ST] created
End execution of command file '8_sensors.py' in batch mode ...
 
Verifying of linked faces ...
  38 face(s) have consistent linked mesh generator.
 
14:30:21      11 sec. Internal meshing of the lines
 
Automatic meshing of 168  faces
Boundary meshing of the faces achieved in 1 iteration(s)
Internal meshing of the 168 faces
Faces internal meshing achieved
Boundary meshing of the faces achieved in 1 iteration(s)
Internal meshing of the 168 faces
Faces internal meshing achieved
Boundary meshing of the faces achieved in 1 iteration(s)
Internal meshing of the 168 faces
Faces internal meshing achieved
End of topological mesh regularization
14:30:23      13 sec.    5048 1st order surfacic elements created
 
Transport-projection meshing of 7  faces
 
14:30:23      13 sec. Mapped meshing of the faces
14:30:23      13 sec.     186 1st order surfacic elements created
 
Extrusive meshing of 94 faces
14:30:23      13 sec.    4110 1st order surfacic elements created
 
Meshing of linked faces...
Meshing of 75 linked faces
 
14:30:24      13 sec.    1002 1st order lineic elements created
 
Automatic mesh of 83 volumes
 
Extrusive meshing of 40 volumes
14:30:24      14 sec. Boundary meshing of volumes
Strong periodicity of mesh might be not insured
Insert of nodes ...
... End of nodes insert
   Number of elements in the global boundary mesh  : 47735
Checking 284 faces
Checking 284 faces: iteration No 1  completed
Number of node(s) creating while the iteration: 192
Checking of faces completed in 2 iteration(s)
Number of nodes creating while checking faces: 192
  7580  boundary nodes
  29283  boundary meshes
14:30:28      18 sec. Internal meshing of volumes
 
Number of nodes created by internal meshing 1438
14:30:30      20 sec.
          9026 nodes
         40857 meshes
14:30:30      20 sec. Mesh compressing
          9026 nodes
         40053 meshes
14:30:30      20 sec.   40053 1st order volumic elements created
     10440 ill-connected elements have been detected
Attempt to repair ( 1 /20) ...
     10440 ill-connected elements have been detected
Attempt to repair ( 2 /20) ...
     10440 ill-connected elements have been detected
Attempt to repair ( 3 /20) ...
     10440 ill-connected elements have been detected
Attempt to repair ( 4 /20) ...
     10440 ill-connected elements have been detected
Attempt to repair ( 5 /20) ...
     10440 ill-connected elements have been detected
Attempt to repair ( 6 /20) ...
Creation of 5220 1st order pyramid elements
End of topological mesh regularization
 
Volume elements :
   Number of elements not evaluated     : 41.09  %
   Number of excellent quality elements : 15.82  %
   Number of good quality elements      : 24.92  %
   Number of average quality elements   : 15.01  %
   Number of poor quality elements      : 3.16  %
 
Verifying of linked faces ...
  38 face(s) respect strongly (ELEMENTS) linked mesh generator.
 
   meshDomain executed
 
14:30:40      30 sec. Generating 2nd order elements is running
  Total number of nodes --> 109888
14:30:42      32 sec. End generating 2nd order elements
   generateSecondOrderElements executed
The final derivative of points defining the spline curve of material NO12 must be equal to Mu0. The final relative permeability is equal to: 1.10924599072956
 
    1 holes have been identified.
    1 magnetic cuts have been created.
The final derivative of points defining the spline curve of material NO12 must be equal to Mu0. The final relative permeability is equal to: 1.10924599072956
   buildMagneticCircuitCut executed

End execution of command file 'C:/Users/jperalta/Documents/github_pato/flux/2_int_rotor/2_int_rotor_slotted/8_icems_journal_2018_3d/00_main.py' in batch mode ...
   AidedMesh[1] modified
   Scenario[BRMS_25] created
Scenario[1]
   addPilot executed
   addPilot executed
Anomaly (1) - Program error:
Can not execute the following command :
alpha=2
beta=0.1
l_slot=8
rrot=10
n=25

Scenario(name='BRMS_'+str(n),
         adaptive=InactivatedAdaptive())

startMacroTransaction()

Scenario['BRMS_'+str(n)].addPilot(pilot=MonoValue(parameter=VariationParameter['ALPHA_H'],
                                           value=alpha))

Scenario['BRMS_'+str(n)].addPilot(pilot=MonoValue(parameter=VariationParameter['BETA'],
                                           value=beta))

Scenario['BRMS_'+str(n)].addPilot(pilot=MonoValue(parameter=VariationParameter['L_SLOT'],
                                           value=l_slot))

Scenario['BRMS_'+str(n)].addPilot(pilot=MonoValue(parameter=VariationParameter['R_ROT_OUT'],
                                           value=rrot))

endMacroTransaction()

InvalidCommand()
Closing project
Close of ANONYM
... end closing project
Maximum use of 911 MiB. in numerical memory
For the dynamic table ID 2357975
Maximum use of 9 MiB. in character memory
For the dynamic table ID 1983220
 
   NUMZM         ADRES    SUIV    PREC    CODE          LONG           UID     PROP4   ...
 
       1             5       6       4   R08 5             0             0
       2             1       5       5   C80 8             0             0
       4     536870913       1   27758   R08 5             0             0
       5       1677722       2       2   C80 8             0             0
       6             5   27758       1   I04 2        600037             0
   27758      11131757       4       6   I04 2         12001       6503214
Numerical memory: Total length                   = 536870912
(8 byte words)    Present length                 =  11143757
                  Useful length                  =    612042
                  Number of numerical arrays     =         4
Character memory: Total length                   =   1677721
(80 byte words)   Present length                 =         0
                  Useful length                  =         0
                  Number of character arrays     =         2
Maximum number of arrays (num+char)              =    100006
 
14:32:51     161 sec. FLUX3D_18.1.0 kernel finalized
